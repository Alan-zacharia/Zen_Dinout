;/*FB_PKG_DELIM*/

__d("IGDSInfiniteScrollTrigger.react",["react","useAfterPaint","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useRef,k=b.c;function a(a){var b=k(20),d=a.children,e=a["data-testid"],f=a.hasMore,g=a.isLoading,h=a.onLoadMore;a=a.rootMargin;a=a===void 0?0:a;var l=j(!1),m;b[0]!==f||b[1]!==g||b[2]!==h?(m=function(){f&&!g&&l.current&&h()},b[0]=f,b[1]=g,b[2]=h,b[3]=m):m=b[3];m=m;c("useAfterPaint")(m);b[4]!==f||b[5]!==g||b[6]!==h?(m=function(){var a=l.current;l.current=!0;!a&&f&&!g&&h()},b[4]=f,b[5]=g,b[6]=h,b[7]=m):m=b[7];m=m;var n;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(){l.current=!1},b[8]=n):n=b[8];n=n;var o;b[9]!==a?(o={rootMargin:a},b[9]=a,b[10]=o):o=b[10];b[11]!==m||b[12]!==o?(a={onHidden:n,onVisible:m,options:o},b[11]=m,b[12]=o,b[13]=a):a=b[13];n=c("useVisibilityObserver")(a);b[14]!==f||b[15]!==g||b[16]!==e||b[17]!==n||b[18]!==d?(m=f||g?i.jsx("div",{"data-testid":void 0,ref:n,children:d}):null,b[14]=f,b[15]=g,b[16]=e,b[17]=n,b[18]=d,b[19]=m):m=b[19];return m}g["default"]=a}),98);
__d("PolarisDesktopPostRoot.react",["CometPlaceholder.react","IGDSBox.react","IGDSSpinner.react","PolarisShell.react","deferredLoadComponent","react","requireDeferredForDisplay","usePolarisPageID"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisDesktopPostPage.react").__setRef("PolarisDesktopPostRoot.react"));function a(a){var b=i(7),d=a.props;a=a.queries;d=d.routeProps;d=d.media_id;var e=c("usePolarisPageID")(),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSBox.react"),{alignItems:"center",display:"flex",flex:"grow",height:"100%",justifyContent:"center",width:"100%",children:j.jsx(c("IGDSSpinner.react"),{})}),b[0]=f):f=b[0];b[1]!==d||b[2]!==a?(f=j.jsx(c("CometPlaceholder.react"),{fallback:f,children:j.jsx(k,{postId:d,queries:a})}),b[1]=d,b[2]=a,b[3]=f):f=b[3];b[4]!==e||b[5]!==f?(d=j.jsx(c("PolarisShell.react"),{pageIdentifier:e,children:f}),b[4]=e,b[5]=f,b[6]=d):d=b[6];return d}g["default"]=a}),98);
__d("PolarisInfiniteScroll.react",["IGDSInfiniteScrollTrigger.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d=a.children,e=a.handleLoadNext,f=a.hasNext;a=a.isLoadingNext;var g;b[0]!==f||b[1]!==a||b[2]!==e||b[3]!==d?(g=j.jsx(c("IGDSInfiniteScrollTrigger.react"),{"data-testid":void 0,hasMore:f,isLoading:a,onLoadMore:e,children:d}),b[0]=f,b[1]=a,b[2]=e,b[3]=d,b[4]=g):g=b[4];return g}g["default"]=a}),98);
__d("PolarisPostCommentsPaginationQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7823865067713647"}),null);
__d("PolarisPostCommentsPaginationQuery.graphql",["PolarisPostCommentsPaginationQuery_instagramRelayOperation","PolarisIsLoggedIn.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},c={defaultValue:null,kind:"LocalArgument",name:"before"},d={defaultValue:null,kind:"LocalArgument",name:"first"},e={defaultValue:null,kind:"LocalArgument",name:"last"},f={defaultValue:null,kind:"LocalArgument",name:"media_id"},g={defaultValue:"popular",kind:"LocalArgument",name:"sort_order"},h={kind:"Variable",name:"sort_order",variableName:"sort_order"},i=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Literal",name:"data",value:{}},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"media_id",variableName:"media_id"},h],j={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l=[{alias:null,args:null,concreteType:"XDTCommentGiphyMediaFixedHeightImages",kind:"LinkedField",name:"fixed_height",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"PolarisPostCommentsPaginationQuery",selections:[{args:[h],kind:"FragmentSpread",name:"PolarisPostAllCommentsFragment_items_connection"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,e,f,g,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__PolarisIsLoggedInrelayprovider"}],kind:"Operation",name:"PolarisPostCommentsPaginationQuery",selections:[{alias:null,args:i,concreteType:"XDTGetCommentsResponseConnection",kind:"LinkedField",name:"xdt_api__v1__media__media_id__comments__connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[j,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},k,j,{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"XDTCommentGiphyMediaInfo",kind:"LinkedField",name:"giphy_media_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentGiphyMediaImages",kind:"LinkedField",name:"first_party_cdn_proxied_images",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"XDTCommentGiphyMediaImages",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:null},k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:i,filters:["data","media_id","sort_order"],handle:"connection",key:"PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",kind:"LinkedHandle",name:"xdt_api__v1__media__media_id__comments__connection"}]},params:{id:b("PolarisPostCommentsPaginationQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostCommentsPaginationQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__PolarisIsLoggedInrelayprovider:b("PolarisIsLoggedIn.relayprovider")}}}}();e.exports=a}),null);
__d("PolarisPostAllCommentsFragment_items_connection.graphql",["PolarisPostCommentsPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["xdt_api__v1__media__media_id__comments__connection"];return{argumentDefinitions:[{kind:"RootArgument",name:"after"},{kind:"RootArgument",name:"before"},{kind:"RootArgument",name:"first"},{kind:"RootArgument",name:"last"},{kind:"RootArgument",name:"media_id"},{defaultValue:"popular",kind:"LocalArgument",name:"sort_order"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:a}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:{count:"last",cursor:"before"},path:a},fragmentPathInResult:[],operation:b("PolarisPostCommentsPaginationQuery.graphql")}},name:"PolarisPostAllCommentsFragment_items_connection",selections:[{alias:"xdt_api__v1__media__media_id__comments__connection",args:[{kind:"Literal",name:"data",value:{}},{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"sort_order",variableName:"sort_order"}],concreteType:"XDTGetCommentsResponseConnection",kind:"LinkedField",name:"__PolarisPostComments__xdt_api__v1__media__media_id__comments__connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostComment_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostMobileComment_comment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostAllComments_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostAllComments_media",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"THROW",path:"code"},{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"owner.pk"}],storageKey:null},action:"THROW",path:"owner"}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostAllComments.react",["BaseButton.react","CometPlaceholder.react","CometRelay","IGDSBox.react","IGDSDivider.react","IGDSSpinner.react","IGDSText.react","PolarisCommentsSectionText.react","PolarisCommentsSortContext.react","PolarisCommentsStrings","PolarisGenericStrings","PolarisInfiniteScroll.react","PolarisLoggerUtils","PolarisMobileSponsoredPersistentCTA.react","PolarisNoCommentsPlaceholder.react","PolarisPostAllCommentsFragment_items_connection.graphql","PolarisPostAllComments_media.graphql","PolarisPostIdContext.react","PolarisPostUtils","PolarisSortCommentsUtil","PolarisUA","cr:4275","react","requireDeferred","stylex","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useContext,o=e.useEffect,p=e.useMemo,q=e.useState,r=e.c,s=c("requireDeferred")("PolarisCommentCover.react").__setRef("PolarisPostAllComments.react"),t=80,u={commentsCover:{marginStart:"x17adc0v",$$css:!0},commentsDivider:{marginEnd:"x19f6ikt",marginStart:"x169t7cy",$$css:!0},commentsDividerMobile:{marginEnd:"xktsk01",marginStart:"x1d52u69",$$css:!0},commentsDividerWithImmersiveViewer:{marginEnd:"xcr5guo",marginStart:"xd8oflk",$$css:!0},persistentCTAPadding:{paddingBottom:"xo5ses6",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}};function a(a){var e=a.adInfo,f=a.enablePersistentCta,g=a.media$key,k=a.paginationQuery,r=a.postCaptionComponent,w=a.shouldUseInfiniteScroll;a=a.xStyle;k=d("CometRelay").usePaginationFragment(h!==void 0?h:h=b("PolarisPostAllCommentsFragment_items_connection.graphql"),k);var x=k.data.xdt_api__v1__media__media_id__comments__connection.edges,y=k.hasNext,z=k.isLoadingNext,A=k.loadNext,B=k.refetch;k=q(!1);var C=k[0],D=k[1];k=p(function(){var a=x.filter(function(a){a=a.node;return a.is_covered!==!0}),b=x.filter(function(a){a=a.node;return a.is_covered===!0});return{comments:a,coveredComments:b}},[x]);var E=k.comments;k=k.coveredComments;g=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisPostAllComments_media.graphql"),g);e=(e=e==null?void 0:e.tracking_token)!=null?e:"";var F=g.code,G=g.comments_disabled,H=g.owner.pk;g=g.pk;var I=n(d("PolarisPostIdContext.react").PolarisPostIdContext),J=(I=I.mediaIdUFI)!=null?I:g;I=n(d("PolarisCommentsSortContext.react").PolarisCommentsSortContext);var K=I.commentsSortOrder,L=m(function(a){B({media_id:J,sort_order:String(a)})},[J,B]);I=function(){A(10)};o(function(){L(K)},[K,L]);I={handleLoadNext:I,hasNext:y,isLoadingNext:z};z=n(d("PolarisCommentsSortContext.react").PolarisCommentsSortContext);z=z.isImmersiveViewer;var M=x!=null&&x.length===0,N=d("PolarisLoggerUtils").getFormattedMediaID(g,H),O=K===d("PolarisSortCommentsUtil").CommentsOptionValues.META_VERIFIED&&((x==null?void 0:x.length)===0||x.some(function(a){return((a=a.node.user)==null?void 0:a.is_verified)===!0})===!1),P=K===d("PolarisSortCommentsUtil").CommentsOptionValues.META_VERIFIED?x==null?void 0:x.findIndex(function(a){return((a=a.node.user)==null?void 0:a.is_verified)===!1}):-1,Q=c("useDeferredModuleOnReady")(s),R=l.jsx("div",{className:(j||(j=c("stylex")))(d("PolarisUA").isMobile()&&u.commentsDividerMobile,d("PolarisUA").isDesktop()&&z===!0&&u.commentsDividerWithImmersiveViewer,d("PolarisUA").isDesktop()&&z!==!0&&u.commentsDivider),children:l.jsx(c("IGDSDivider.react"),{})});return l.jsxs("div",{className:j(u.root,a,f===!0&&u.persistentCTAPadding),"data-testid":void 0,children:[r!=null&&r,M&&G!==!0&&l.jsx("div",{className:"x1iyjqo2",children:l.jsx(c("PolarisNoCommentsPlaceholder.react"),{})}),O&&l.jsx(c("PolarisCommentsSectionText.react"),{commentsDivider:R,marginStart:z===!0?0:10,text:d("PolarisSortCommentsUtil").NO_META_VERIFIED_COMMENTS}),E==null?void 0:E.map(function(a,d){a=a.node;return l.jsxs(c("IGDSBox.react"),{children:[l.jsx(b("cr:4275"),{mediaCode:F,mediaId:J,mediaOwnerId:H,queryReference:a}),d===P-1&&l.jsx(c("IGDSBox.react"),{marginBottom:1,marginTop:1,children:R})]},a.pk)}),!y&&!C&&(k==null?void 0:k.length)>0&&Q!=null&&l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(Q,{onClick:function(){return D(!0)},postId:g,postOwnerId:H,xstyle:u.commentsCover})}),C&&l.jsxs(l.Fragment,{children:[l.jsx(c("PolarisCommentsSectionText.react"),{commentsDivider:R,marginStart:z===!0?0:10,text:d("PolarisCommentsStrings").COVERED_COMMENTS}),k==null?void 0:k.map(function(a){a=a.node;return l.jsx(c("IGDSBox.react"),{children:l.jsx(b("cr:4275"),{mediaCode:F,mediaId:J,mediaOwnerId:H,queryReference:a})},a.pk)})]}),f===!0?l.jsx(c("PolarisMobileSponsoredPersistentCTA.react"),{bottomOffset:t,ctaAdditionalAnimation:d("PolarisPostUtils").PostFooterCTAAnimationStyle.SLIDE_UP,mpk:N,trackingToken:e}):null,w?l.jsx(c("PolarisInfiniteScroll.react"),babelHelpers["extends"]({},I,{children:l.jsx(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,height:"42px",marginBottom:3,marginTop:3,children:l.jsx(c("IGDSSpinner.react"),{})})})):l.jsx(v,babelHelpers["extends"]({},I))]})}a.displayName=a.name+" [from "+f.id+"]";function v(a){var b=r(4),e=a.handleLoadNext,f=a.hasNext;a=a.isLoadingNext;if(a){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,height:"42px",marginBottom:3,marginTop:3,children:l.jsx(c("IGDSSpinner.react"),{})}),b[0]=a):a=b[0];return a}if(f){b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSText.react"),{color:"secondaryText",children:d("PolarisGenericStrings").VIEW_MORE_COMMENTS_TEXT}),b[1]=a):a=b[1];b[2]!==e?(f=l.jsx(c("IGDSBox.react"),{alignItems:"start",height:"42px",marginBottom:4,marginTop:4,children:l.jsx(c("BaseButton.react"),{onClick:e,children:a})}),b[2]=e,b[3]=f):f=b[3];return f}return null}g["default"]=a}),98);
__d("PolarisPostCommentInputRevampedMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7980226328678944"}),null);
__d("PolarisPostCommentInputRevampedMutation.graphql",["PolarisPostCommentInputRevampedMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"connections"},c={defaultValue:null,kind:"LocalArgument",name:"media_id"},d={defaultValue:null,kind:"LocalArgument",name:"request_data"},e=[{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"request_data",variableName:"request_data"}],f={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"PolarisPostCommentInputRevampedMutation",selections:[{alias:null,args:e,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:f,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.created_at"},{kind:"RequiredField",field:g,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.pk"},{kind:"RequiredField",field:h,action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.text"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[g,i,j,k,l,m],storageKey:null},action:"THROW",path:"xdt_web__comments__media_id__add_queryable.node.user"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"PolarisPostCommentInputRevampedMutation",selections:[{alias:null,args:e,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[f,g,h,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[g,i,j,k,l,m,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"prependNode",key:"",kind:"LinkedHandle",name:"node",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"},{kind:"Literal",name:"edgeTypeName",value:"XDTGetCommentsResponseEdge"}]}],storageKey:null}]},params:{id:b("PolarisPostCommentInputRevampedMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostCommentInputRevampedMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PolarisPostCommentInputRevamped_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCommentInputRevamped_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentInputRevamped.react",["CometRelay","IGDSBox.react","IGDSText.react","PolarisCommentsSortContext.react","PolarisDsaQEHelpers","PolarisGenericStrings","PolarisPendingCommentState","PolarisPostCommentInput.react","PolarisPostCommentInputRevampedMutation.graphql","PolarisPostCommentInputRevamped_media.graphql","PolarisPostIdContext.react","PolarisSortCommentsUtil","Promise","QPLUserFlow","polarisGetXDTCommentDict","qpl","react","react-forget-runtime","usePolarisAnalyticsContext","usePolarisCommentInputRevamped","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useContext,n=e.c,o={commentingDisabledForViewerBox:{borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",display:"x78zum5",height:"xdd8jsf",marginTop:"x1gslohp",order:"x1hrcb2b",$$css:!0}},p=h!==void 0?h:h=b("PolarisPostCommentInputRevampedMutation.graphql");f=l.forwardRef(a);function a(a,e){var f=n(26),g=a.adInfo,h=a.isRevampedMobileInput,k=a.isSidecar,r=a.isVideo,s=a.media,t=a.ownerID,u=a.postID,v=a.postOwnerUsername,w=a.replyingToBarWithinInput;a=a.viewerProfilePicture;h=h===void 0?!1:h;w=w===void 0?!1:w;s=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisPostCommentInputRevamped_media.graphql"),s);var x=s.commenting_disabled_for_viewer;s=s.comments_disabled;var y=s!==!0&&x!==!0;s=s!==!0&&x===!0;x=c("usePolarisAnalyticsContext")();var z=m(d("PolarisPostIdContext.react").PolarisPostIdContext),A=(z=z.mediaIdUFI)!=null?z:u;f[0]!==A?(z=function(a){return(a=a.pendingComments[A])!=null?a:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT},f[0]=A,f[1]=z):z=f[1];var B=c("usePolarisSelector")(z);u=d("CometRelay").useMutation(p);var C=u[0];z=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("PolarisCommentsSortContext.react").PolarisCommentsSortContext,q);var D=z.commentsSortOrder;u=c("usePolarisCommentInputRevamped")(A,k,r);var E=u.onCommit,F=u.onComplete,G=u.onError,H;f[2]!==E||f[3]!==A||f[4]!==D||f[5]!==C||f[6]!==F||f[7]!==t||f[8]!==B.repliedToCommentAuthorId||f[9]!==B.repliedToCommentParentId||f[10]!==G?(H=function(a,e,f,g){E();var h=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",{data:{},media_id:A,sort_order:D});f=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__parent_comment_id__child_comments__connection",{media_id:A,parent_comment_id:(f=f)!=null?f:e});C({onCompleted:function(a){F(a.xdt_web__comments__media_id__add_queryable.node.text,a.xdt_web__comments__media_id__add_queryable.node.pk,t,g,B.repliedToCommentAuthorId,B.repliedToCommentParentId),c("QPLUserFlow").endSuccess(c("qpl")._(379194585,"1014"))},onError:function(){G(H,a,g,B.repliedToCommentAuthorId,B.repliedToCommentParentId),c("QPLUserFlow").endFailure(c("qpl")._(379194585,"1014"),"mutation_errored")},updater:function(a){if(d("PolarisDsaQEHelpers").hasNonProfiledExperienceEnabled())for(var b=d("PolarisSortCommentsUtil").commentsOptions,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;if(h!==D){h=d("CometRelay").ConnectionHandler.getConnectionID("client:root","PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",{data:{},media_id:A,sort_order:h});(h=a.get(h))==null?void 0:h.invalidateRecord()}}if(e==null)return;h=c("polarisGetXDTCommentDict")(a,e);f=(g=h==null?void 0:h.getValue("child_comment_count"))!=null?g:0;h==null?void 0:h.setValue(Number(f)+1,"child_comment_count")},variables:{connections:[e==null?h:f],media_id:A,request_data:{comment_text:a,replied_to_comment_id:e}}});return(j||(j=b("Promise"))).resolve()},f[2]=E,f[3]=A,f[4]=D,f[5]=C,f[6]=F,f[7]=t,f[8]=B.repliedToCommentAuthorId,f[9]=B.repliedToCommentParentId,f[10]=G,f[11]=H):H=f[11];if(s){f[12]===Symbol["for"]("react.memo_cache_sentinel")?(z=l.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",justifyContent:"center",width:"100%",xstyle:o.commentingDisabledForViewerBox,children:l.jsx(c("IGDSText.react"),{color:"tertiaryText",textAlign:"center",children:d("PolarisGenericStrings").COMMENTING_LIMITED})}),f[12]=z):z=f[12];return z}if(f[13]!==y||f[14]!==H||f[15]!==a||f[16]!==g||f[17]!==x||f[18]!==A||f[19]!==h||f[20]!==r||f[21]!==t||f[22]!==v||f[23]!==e||f[24]!==w){u=y?l.jsx(c("PolarisPostCommentInput.react"),{adInfo:g,analyticsContext:x,canViewerProvideFeedback:!0,forceTextareaAutosize:!1,hasPostButton:!0,hasRichCommentInput:!0,id:A,inModal:!1,isRevampedMobileInput:h,isRevampVersion:!0,isVideo:r,onCommentSubmitOverride:H,ownerId:t,postOwnerUsername:v,ref:e,replyingToBarWithinInput:w,viewerProfilePicture:(k=a)!=null?k:""}):null;f[13]=y;f[14]=H;f[15]=a;f[16]=g;f[17]=x;f[18]=A;f[19]=h;f[20]=r;f[21]=t;f[22]=v;f[23]=e;f[24]=w;f[25]=u}else u=f[25];return u}function q(a){return[a.commentsSortOrder]}e=f;g["default"]=e}),98);
__d("PolarisPostCommentsContainerQuery.graphql",["PolarisPostCommentsContainerQuery_instagramRelayOperation","PolarisIsLoggedIn.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},c={defaultValue:null,kind:"LocalArgument",name:"before"},d={defaultValue:null,kind:"LocalArgument",name:"first"},e={defaultValue:null,kind:"LocalArgument",name:"last"},f={defaultValue:null,kind:"LocalArgument",name:"media_id"},g=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Literal",name:"data",value:{}},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Literal",name:"sort_order",value:"popular"}],h={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},j=[{alias:null,args:null,concreteType:"XDTCommentGiphyMediaFixedHeightImages",kind:"LinkedField",name:"fixed_height",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"PolarisPostCommentsContainerQuery",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostAllCommentsFragment_items_connection"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,f,d,e,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__PolarisIsLoggedInrelayprovider"}],kind:"Operation",name:"PolarisPostCommentsContainerQuery",selections:[{alias:null,args:g,concreteType:"XDTGetCommentsResponseConnection",kind:"LinkedField",name:"xdt_api__v1__media__media_id__comments__connection",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGetCommentsResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},i,h,{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_covered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"child_comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"XDTCommentGiphyMediaInfo",kind:"LinkedField",name:"giphy_media_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentGiphyMediaImages",kind:"LinkedField",name:"first_party_cdn_proxied_images",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"XDTCommentGiphyMediaImages",kind:"LinkedField",name:"images",plural:!1,selections:j,storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parent_comment_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:g,filters:["data","media_id","sort_order"],handle:"connection",key:"PolarisPostComments__xdt_api__v1__media__media_id__comments__connection",kind:"LinkedHandle",name:"xdt_api__v1__media__media_id__comments__connection"}]},params:{id:b("PolarisPostCommentsContainerQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostCommentsContainerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__PolarisIsLoggedInrelayprovider:b("PolarisIsLoggedIn.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("PolarisPostCommentsContainer_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCommentsContainer_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostAllComments_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentsContainer.react",["CometRelay","PolarisPostAllComments.react","PolarisPostCommentsContainerQuery.graphql","PolarisPostCommentsContainer_media.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c,l=j;function a(a){var e=k(7),f=a.adInfo,g=a.commentsQuery,j=a.enablePersistentCta,m=a.media$key,n=a.postCaptionComponent;a=a.xStyle;n=n===void 0?null:n;g=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("PolarisPostCommentsContainerQuery.graphql"),g);m=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisPostCommentsContainer_media.graphql"),m);var o;e[0]!==f||e[1]!==j||e[2]!==m||e[3]!==g||e[4]!==n||e[5]!==a?(o=l.jsx(c("PolarisPostAllComments.react"),{adInfo:f,enablePersistentCta:j,media$key:m,paginationQuery:g,postCaptionComponent:n,shouldUseInfiniteScroll:!0,xStyle:a}),e[0]=f,e[1]=j,e[2]=m,e[3]=g,e[4]=n,e[5]=a,e[6]=o):o=e[6];return o}g["default"]=a}),98);